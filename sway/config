set $mod Mod4
font pango:JetBrainsMono Nerd Font 10
floating_modifier $mod
hide_edge_borders smart
focus_follows_mouse no
default_border pixel
smart_gaps on
gaps inner 5
gaps outer 5

client.focused #1c1c1c #222222 #005faf #dddddd
client.focused_inactive #222222 #1c1c1c #888888 #292d2e
client.unfocused #000000 #000000 #888888 #292d2e
client.urgent #222222 #222222 #af0000 #900000

bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 10
bindsym $mod+F1 exec playerctl play-pause
bindsym $mod+F2 exec playerctl next
bindsym $mod+F3 exec playerctl previous
bindsym $mod+Left workspace prev
bindsym $mod+Return exec alacritty
bindsym $mod+Right workspace next
bindsym $mod+d exec --no-startup-id rofi -show run
bindsym $mod+e workspace back_and_forth
bindsym $mod+f fullscreen toggle
bindsym $mod+g exec cliphist -preview-width=1000 list | cut -f 2 | rofi -dmenu | tr -d '\n' | tee >(wl-copy) | wl-copy --primary --type text/plain
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right
bindsym $mod+minus scratchpad show
bindsym $mod+space focus mode_toggle

bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+c reload
bindsym $mod+Shift+e layout toggle split
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right
bindsym $mod+Shift+minus move scratchpad
bindsym $mod+Shift+q kill
bindsym $mod+Shift+s layout stacking
bindsym $mod+Shift+space floating toggle
bindsym $mod+Shift+v split h
bindsym $mod+Shift+w layout tabbed

bindsym $mod+Alt+v split v

bindsym $mod+Ctrl+l exec hyprlock
bindsym $mod+Ctrl+o exec rofi-pulse-select sink
bindsym $mod+Ctrl+i exec rofi-pulse-select source
bindsym $mod+Ctrl+b exec rofi-bluetooth
bindsym $mod+Ctrl+n exec rofi-network-manager
bindsym $mod+Ctrl+e exec rofimoji
bindsym $mod+Ctrl+r exec ~/.local/bin/llm-wofi-openrouter

bindsym --release Print exec grim -g "$(slurp)" - | swappy -f -
bindsym XF86AudioMute exec --no-startup-id wpctl set-volume '@DEFAULT_AUDIO_SINK@' 0
# bindsym XF86AudioLowerVolume exec --no-startup-id "wpctl set-volume '@DEFAULT_AUDIO_SINK@' 5%-"
# bindsym XF86AudioRaiseVolume exec --no-startup-id "wpctl set-volume '@DEFAULT_AUDIO_SINK@' 5%+"

bindsym XF86AudioRaiseVolume exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+, exec notify-send -e -t 2000 -h string:x-canonical-private-synchronous:audio "$(wpctl get-volume @DEFAULT_AUDIO_SINK@)"
bindsym XF86AudioLowerVolume exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-, exec notify-send -e -t 2000 -h string:x-canonical-private-synchronous:audio "$(wpctl get-volume @DEFAULT_AUDIO_SINK@)"

bindsym XF86Display exec wdisplays
bindsym XF86MonBrightnessDown exec light -U 10
bindsym XF86MonBrightnessUp exec light -A 10

for_window [app_id="spotify"] mark "spotify", move scratchpad, floating enable
bindsym $mod+F12 exec ~/.local/bin/sway-toggle-app-tree --app-id spotify

for_window [class="Slack"] mark "slack", move scratchpad, floating enable
# for_window [class="Slack" title="^Huddle:.*"] focus
bindsym $mod+F9 exec ~/.local/bin/sway-toggle-app-tree --class Slack

for_window [app_id="notes"] mark "notes", move scratchpad, floating enable
exec --no-startup-id alacritty --class "notes,notes"
bindsym $mod+n exec ~/.local/bin/sway-toggle-app-tree --app-id notes

for_window [app_id="dotfiles"] mark "dotfiles", move scratchpad, floating enable
exec --no-startup-id alacritty --class "dotfiles,dotfiles"
bindsym $mod+F10 exec ~/.local/bin/sway-toggle-app-tree --app-id dotfiles

for_window [app_id="scratchpad"] mark "scratchpad", move scratchpad, floating enable
exec --no-startup-id alacritty --class "scratchpad,scratchpad"
bindsym $mod+p exec ~/.local/bin/sway-toggle-app-tree --app-id scratchpad

for_window [app_id="obsidian"] mark "obsidian", move scratchpad, floating enable
bindsym $mod+o exec ~/.local/bin/sway-toggle-app-tree --app-id obsidian

for_window [app_id="Bitwarden"] mark "bitwarden", move scratchpad, floating enable
bindsym $mod+b exec ~/.local/bin/sway-toggle-app-tree --app-id Bitwarden

# https://gitlab.com/that1communist/dotfiles/-/blob/master/.config/sway/modules/win-rules
set {
    $popup floating enable; sticky enable
    $float floating enable
    $video inhibit_idle fullscreen; border none; max_render_time off
}
#for_window {
##popup
#    [app_id=""] $popup
#    [app_id="firefox" title="^Picture-in-Picture$"] $popup
#    [app_id="galculator"] $popup
#    [title="(?:Open|Save) (?:File|Folder|As)"] $popup
#    [title="^(File|Folder)\s*Already Exists\s*—\s*"] $popup
#}
##float
#    [app_id="org.telegram.desktop"] $float; blur off; shadows disable; inhibit_idle open
#    [app_id="com.github.weclaw1.ImageRoll"] $float
#    [app_id="teams-for-linux"] $float
#    [class="teams-for-linux"] $float
#    [instance="teams-for-linux"] $float
#    [app_id="org.gnome.Loupe"] $float
#    [instance="yakyak"] $float
#    [class="Microsoft Teams - Preview"] $float
#    [class="teams-for-linux"] $float
#    [class="Microsoft Teams - Insiders"] $float
#    [app_id="Alacritty_floating"] $float
#    [title="^Information\s*—\s*Dolphin" app_id="dolphin"] $float
#    [title="^Loading archive" app_id="org.kde.ark"] $float
#    [instance="crx_nckgahadagoaajjgafhacjanaoiihapd"] $float
#    [title="Preferences" app_id="pcmanfm-qt"] $float
#    [title="File Properties" app_id="pcmanfm-qt"] $float
#    [app_id="anki"] $float
#    [window_role="pop-up,task_dialog,About"] $float; shadows enable
#    [window_type="dialog"] $float; shadows enable
#    [window_type="utility"] $float; shadows enable
#    [window_type="toolbar"] $float; shadows enable
#    [window_type="splash"] $float; shadows enable
#    [window_type="menu"] $float; shadows enable
#    [window_type="dropdown_menu"] $float; shadows enable
#    [window_type="popup_menu"] $float; shadows enable
#    [window_type="tooltip"] $float; shadows enable
#    [window_type="notification"] $float; shadows enable

##video
#    [instance="chromium"] $video
#    [app_id="mpv"] $video
#    [app_id="vlc"] $video
#    [class="firefox"] $video
#    [app_id="firefox"] $video
#    [class="Nightly"] $video

##important
#    [title="Move files" app_id="dolphin|org.kde.ark|pcmanfm|pcmanfm-qt"] $important
#    [title="^(Copying|Moving)\s*—\s*Dolphin" app_id="dolphin|org.kde.ark|pcmanfm|pcmanfm-qt"] $important
#    [title="^Extracting\s" app_id="(dolphin|org.kde.ark)"] $important
#    [title="Copy Files" app_id="dolphin|org.kde.ark|pcmanfm|pcmanfm-qt"] $important
#    [title="Delete Files" app_id="dolphin|org.kde.ark|pcmanfm|pcmanfm-qt"] $important
#    [title="Removable medium is inserted" app_id="pcmanfm|pcmanfm-qt"] $important
#    [title="Compressing (.*) — Ark" app_id="org.kde.ark"] $important; resize set width 18 ppt

##misc
#    [urgent=latest] focus
#    [app_id="alacritty"] saturation set 2; blur enable
#}

mode "resize" {
    bindsym l resize shrink width 10 px or 10 ppt
    bindsym k resize grow height 10 px or 10 ppt
    bindsym j resize shrink height 10 px or 10 ppt
    bindsym h resize grow width 10 px or 10 ppt
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

input "type:keyboard" {
    repeat_delay 180
    repeat_rate 80
    xkb_options caps:escape
    xkb_layout se
    xkb_variant nodeadkeys
}

output "eDP-1" {
  mode 2560x1600@165Hz
  scale 1.5
}
output * bg #000000 solid_color

workspace 1

# keep primary selection in sync
exec wl-paste --watch wl-copy --primary

exec --no-startup-id wlsunset -l 59.3293 -L 18.0686

exec blueman-applet
exec waybar
exec insync start
exec_always systemctl --user restart kanshi.service
exec_always systemctl --user restart cliphist.service

include /etc/sway/config.d/*

# font pango:monospace 8.000000
# floating_modifier Mod4
# default_border normal 2
# default_floating_border normal 2
# hide_edge_borders none
# focus_wrapping no
# focus_follows_mouse no
# focus_on_window_activation smart
# mouse_warping output
# workspace_layout default
# workspace_auto_back_and_forth yes
# client.focused #4c7899 #285577 #ffffff #2e9ef4 #285577
# client.focused_inactive #333333 #5f676a #ffffff #484e50 #5f676a
# client.unfocused #333333 #222222 #888888 #292d2e #222222
# client.urgent #2f343a #900000 #ffffff #900000 #900000
# client.placeholder #000000 #0c0c0c #ffffff #000000 #0c0c0c
# client.background #ffffff

# bindsym Mod4+0 workspace number 10
# bindsym Mod4+1 workspace number 1
# bindsym Mod4+2 workspace number 2
# bindsym Mod4+3 workspace number 3
# bindsym Mod4+4 workspace number 4
# bindsym Mod4+5 workspace number 5
# bindsym Mod4+6 workspace number 6
# bindsym Mod4+7 workspace number 7
# bindsym Mod4+8 workspace number 8
# bindsym Mod4+9 workspace number 9
# bindsym Mod4+Down focus down
# bindsym Mod4+Left focus left
# bindsym Mod4+Return exec alacritty
# bindsym Mod4+Right focus right
# bindsym Mod4+Shift+0 move container to workspace number 10
# bindsym Mod4+Shift+1 move container to workspace number 1
# bindsym Mod4+Shift+2 move container to workspace number 2
# bindsym Mod4+Shift+3 move container to workspace number 3
# bindsym Mod4+Shift+4 move container to workspace number 4
# bindsym Mod4+Shift+5 move container to workspace number 5
# bindsym Mod4+Shift+6 move container to workspace number 6
# bindsym Mod4+Shift+7 move container to workspace number 7
# bindsym Mod4+Shift+8 move container to workspace number 8
# bindsym Mod4+Shift+9 move container to workspace number 9
# bindsym Mod4+Shift+Down move down
# bindsym Mod4+Shift+Left move left
# bindsym Mod4+Shift+Right move right
# bindsym Mod4+Shift+Up move up
# bindsym Mod4+Shift+c reload
# bindsym Mod4+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -b 'Yes, exit sway' 'swaymsg exit'
# bindsym Mod4+Shift+h move left
# bindsym Mod4+Shift+j move down
# bindsym Mod4+Shift+k move up
# bindsym Mod4+Shift+l move right
# bindsym Mod4+Shift+minus move scratchpad
# bindsym Mod4+Shift+q kill
# bindsym Mod4+Shift+space floating toggle
# bindsym Mod4+Up focus up
# bindsym Mod4+a focus parent
# bindsym Mod4+b splith
# bindsym Mod4+d exec /nix/store/8igdpig2jg0d1dsjdi1pxm2v7xz9jcjx-dmenu-5.3/bin/dmenu_path | /nix/store/8igdpig2jg0d1dsjdi1pxm2v7xz9jcjx-dmenu-5.3/bin/dmenu | /nix/store/vc2d1bfy1a5y1195nq7k6p0zcm6q89nx-findutils-4.10.0/bin/xargs swaymsg exec --
# bindsym Mod4+e layout toggle split
# bindsym Mod4+f fullscreen toggle
# bindsym Mod4+h focus left
# bindsym Mod4+j focus down
# bindsym Mod4+k focus up
# bindsym Mod4+l focus right
# bindsym Mod4+minus scratchpad show
# bindsym Mod4+r mode resize
# bindsym Mod4+s layout stacking
# bindsym Mod4+space focus mode_toggle
# bindsym Mod4+v splitv
# bindsym Mod4+w layout tabbed
